name: Check Holiday Updates
description: Monitor holiday file freshness and create GitHub issues for outdated files
author: Arkadii Yakovets

inputs:
  dry_run:
    description: Dry run mode (no issues created)
    required: false
    default: 'false'
  paths:
    description: List of paths/globs to check for holiday files
    required: true
  github_token:
    description: GitHub token for API access
    required: true
  threshold_days:
    description: Age threshold for files in days
    required: false
    default: '180'

outputs:
  issues_created_count:
    description: Total number of GitHub issues created
  outdated_files_count:
    description: Total number of outdated files found


runs:
  using: docker
  image: Dockerfile
  env:
    INPUT_DRY_RUN: ${{ inputs.dry_run }}
    INPUT_PATHS: ${{ inputs.paths }}
    INPUT_GITHUB_TOKEN: ${{ inputs.github_token }}
    INPUT_THRESHOLD_DAYS: ${{ inputs.threshold_days }}
